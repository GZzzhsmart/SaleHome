!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},o=function(){return i.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,o.prototype=new n,o}),function(t,e,n){i(2);var o=i(27),s=i(29),a=i(30);i(39);var r=function(){return{_cfg:{render:"popup",module:".module-login",defaultType:"captcha",hideClose:!0,hideOtherLogin:!1,onOpen:null,onSuccess:null,onFail:null,onBindEnd:null,onClose:null},config:function(e){return this._cfg=t.extend({},this._cfg,e),this.DialogManager=new o,this},ui:{_cfg:[],update:function(t){t&&t.hasOwnProperty("name")&&this._cfg.push(t)}},evt:{on:function(t,e){a.on(t,e)},once:function(t,e){a.once(t,e)}},open:function(){this.DialogManager.open(this._cfg,this.ui,this.DialogManager)},close:function(){this.DialogManager.close()},checkUserInfo:function(t,e){(new o).checkUserInfo(t,e)},logout:function(t){sessionStorage.logined=0,e.location.href=s.logoutUrl},initilize:function(){this._cfg.hideClose=!1,this._cfg.module="body",this.DialogManager=new o,this.DialogManager.checkUserInfo()},checkUserStatus:function(t){}}};e.getFCLoginInstance=r,e.FCLogin=new r}(window.$,window,window.document)},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var n=i(28),o=i(29),s=i(30),a=i(31),r=i(32),c=i(35),l=i(36),d=i(37),u=i(38);!function(e,i,h){var p=function(){return{_load:!1,fromLogin:!1,nobind:!0,tpl:a.tpl,tpl_bind:a.tpl_bind,tpl_otherLogin:a.tpl_otherLogin,init:function(t,i,o){this._cfg=t||{},this.ui=i||{},this.dialogInstance=o,this.$mod=e(this._cfg.module);var s,a;"page"===this._cfg.render?(s=e('<div class="fclogin-wrap login-wrap page">'),a=e('<div class="fclogin-wrap bind-wrap page">')):(s=e('<div class="fclogin-wrap login-wrap popup">'),a=e('<div class="fclogin-wrap bind-wrap popup">'),this.$mod.append('<div class="fclogin-masker"></div>')),s.append(e(this.tpl)),this.$mod.append(s),this.$dialog=this.$mod.find(".fclogin-wrap"),this.$masker=this.$mod.find(".fclogin-masker"),a.append(e(this.tpl_bind)),this.$mod.append(a),this.$dialog_bind=this.$mod.find(".bind-wrap"),this._cfg.hideClose?this.$mod.find(".login-close").remove():this.$loginClose=this.$mod.find(".login-close"),this._cfg.hideOtherLogin?a.css("paddingBottom","35px"):s.append(e(this.tpl_otherLogin)),this.$weixin=new u(this),this.addUi();var h=new r(this.$mod.eq(0).find('[node-type="fclogin_captcha_form"]'),this.dialogInstance),p=new c(this.$mod.eq(0).find('[node-type="fclogin_account_form"]'),this.dialogInstance),f=new d(this.$mod.eq(0).find('[node-type="fclogin_voice_form"]'),this.dialogInstance);new l(this.$mod.eq(0).find('[node-type="fclogin_bind_form"]'),this.dialogInstance);this.forms=[h,p],this.validForms=[h,f],this.bindEvents(),n.hackPlaceholder()},bindEvents:function(){var t=this;if(this.$mod.on("SWITCH_TAB",function(e,i){t.renderForm(i)}),this.$mod.on("SWITCH_VALID",function(e,i){t.renderValidForm(i)}),this.$masker.on("click",function(){t.close()}),this._cfg.hideClose||this.$loginClose.on("click",function(){t.close()}),this._cfg.onSuccess&&this.$mod.on("LOGIN_SUCCESS",function(e,i){t._cfg.onSuccess(i)}),this._cfg.onFail&&this.$mod.on("LOGIN_FAIL",function(e,i){t._cfg.onFail(i)}),this._cfg.onBindEnd&&this.$mod.on("BIND_END",function(e,i){t._cfg.onBindEnd(i)}),void 0===this._cfg.hideOtherLogin||this._cfg.hideOtherLogin!==!0){var e=760,i=570,s=function(o){n.openWindow(o,e,i,function(){t.fromLogin=!0,t.checkUserInfo()})};this.$mod.find(".sinalogin").click(function(){s(o.sinaUrl)}),this.$mod.find(".qqlogin").click(function(){s(o.qqUrl)}),this.$mod.find(".weixinlogin").click(function(){t.$weixin.open()})}},open:function(t,i,n){this._load||(this.init(t,i,n),this._load=!0),t.defaultType&&"captcha"!==t.defaultType?"account"===t.defaultType?this.renderForm(1):"voice"===t.defaultType&&(this.renderForm(0),this.renderValidForm(1)):this.renderForm(0),this.$masker&&this.$masker.show(),this.$dialog.show(),e(h).trigger("FCLOGIN_EVENT_OPEN"),this._cfg.onOpen&&this._cfg.onOpen()},close:function(t){this.$masker&&0!==this.$masker.length&&(this.$masker.hide(),this.$dialog.hide(),this.$dialog_bind.hide(),this.$weixin.close(),e(h).trigger("FCLOGIN_CLOSED"),e(h).trigger("FCLOGIN_EVENT_ClOSE"),this._cfg.onClose&&this._cfg.onClose())},showBind:function(){this.$dialog.hide(),this.$dialog_bind.show()},hideBind:function(){this.$mod&&this.$mod.trigger("BIND_END"),e(h).trigger("FCLOGIN_EVENT_BIND_END"),this.close()},oldSuccessAdapter:function(t){e(h).trigger("FCLOGIN_SUCCEED"),1==i._isReload?i.location.reload():(e(".login-before").hide(),e(".login-after .user").text(t),e(".login-after").show(),e("#login-dialog-box").hide(),e("#myDialog").hide())},checkUserInfo:function(t,i){var n=this;e.ajax({url:o.getUserInfoUrl+"?random="+Math.random(),type:"get",dataType:"jsonp",success:function(o){if(0===o.errorCode){if(o&&o.data){var s=unescape((o.data.nickName||o.data.userName||"").replace(/\\/g,"%"));n.oldSuccessAdapter(s),o.data.mobile?n.nobind=!0:n.nobind=!1,n.fromLogin?(n.$mod&&n.$mod.trigger("LOGIN_SUCCESS",s),e(h).trigger("FCLOGIN_EVENT_SUCCESS",s),n.nobind?(n.$mod&&n.$mod.trigger("BIND_END",s),e(h).trigger("FCLOGIN_EVENT_BIND_END",s),n.close()):n.showBind()):(t&&t(s),e(h).trigger("FCLOGIN_EVENT_GETUSERINFO_SUCCESS",s))}}else n.fromLogin?n.curForm.showErr(o.errorMessage):(i&&i(o.errorMessage),e(h).trigger("FCLOGIN_EVENT_GETUSERINFO_FAIL",o.errorMessage))}})},renderForm:function(t){var e=0,i=0;for(t=parseInt(t,10)||0,i;i<this.validForms.length;i++)this.validForms[i].hide();for(e;e<this.forms.length;e++)e===t?(1===t&&this.validForms[1].hide(),this.forms[e].show(),this.curForm=this.forms[e]):this.forms[e].hide()},renderValidForm:function(t){var e=0;for(t=parseInt(t,10)||0,e;e<this.validForms.length;e++)if(e===t){var i=this.curForm.mobileInput.val();this.validForms[e].show(),this.curForm=this.validForms[e],i&&this.curForm.mobileInput.val(i)}else this.validForms[e].hide()},decorator:function(t,e){s.triggerNext(t,e,[this.$mod])},addUi:function(){if(this.ui._cfg.length){var t=e("<style></style>");t.attr("type","text/css"),t.html(""),this.$mod.append(t);for(var i={after:"after",before:"before",append:"append",prepend:"prepend",replace:"replaceWith"},n=0;n<this.ui._cfg.length;n++){var o=this.ui._cfg[n];for(var s in i)i.hasOwnProperty(s)&&o[s]&&(e(o.name)[i[s]](o[s].tpl),o[s].style&&"string"==typeof o[s].style&&t.append(o[s].style),o[s].action&&"function"==typeof o[s].action&&o[s].action.call(this,this.$mod))}}}}};t.exports=p}(window.$,window,window.document)},function(t,e){t.exports={getMainDomain:function(){var t="";if(/\d+\.\d+\.\d+\.\d+/.test(location.host))t=".focus-test.cn";else{var e=location.hostname.split(".");t="."+e[e.length-2]+"."+e[e.length-1]}return t},getDomain:function(){var t,e=/(focus\.cn|focustest\.cn|focus-test\.cn|focus-dev\.cn)/.exec(location.host);if(e&&e[0])t="//login."+e[0];else{var e=location.host.match(/focus-(.*)\.cn/);t=e&&e.length&&e[1]?"//fe.focus-"+e[1]+".cn":"//"+location.host}return t},getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(e);return null!==i?unescape(i[2]):null},objToStr:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+"="+t[i]);return e.join("&")},hackPlaceholder:function(){"placeholder"in document.createElement("input")||$("[placeholder]").each(function(){if($(this).parents().hasClass("fclogin-wrap")){var t=$(this),e=t.attr("placeholder");t.after("<label>"+e+"</label>");var i=t.siblings("label");i.css({color:"#bbb","margin-left":"5px"}),""==t.val()&&i.html(e),i.click(function(){""!==i.html()&&i.html("")}),t.focus(function(){i.html("")}),t.blur(function(){""==this.value?i.html(e):i.html("")})}})},setCookie:function(t,e,i,n,o){var s=new Date;i=i||1,s.setTime(s.getTime()+24*i*60*60*1e3);var a="expires="+s.toUTCString(),o=";path="+(o?o:"/"),n=n?";domain="+n:"";document.cookie=t+"="+e+"; "+a+n+o},getCookie:function(t){for(var e=t+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "===o.charAt(0);)o=o.substring(1);if(o.indexOf(e)!==-1)return o.substring(e.length,o.length)}return""},openWindow:function(){var t,e=function(e,i,n,o){if(void 0===t){var s="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,a="undefined"!=typeof window.screenY?window.screenY:window.screenTop,r="undefined"!=typeof window.outerWidth?window.outerWidth:document.documentElement.clientWidth,c="undefined"!=typeof window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,l=parseInt(s+(r-i)/2,10),d=parseInt(a+(c-n)/2.5,10);t=window.open(e,"","alwaysRaised=yes, left="+l+", top="+d+", width="+i+", height="+n+", scrollbars=no, z-look=yes");var u,h=function(){window.clearInterval(u),t=void 0,o&&o()};u=window.setInterval(function(){try{if(t.closed===!1)return;h()}catch(e){h()}},500)}};return e}(),createEvent:function(t){try{return new Event("test"),new Event(t,{bubbles:!0})}catch(e){return function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}},dispatchEvent:function(t,e){var i=this.createEvent(e);try{t.dispatchEvent(i)}catch(n){}},MD5:function(t){function e(t){for(var e=new Array,i=(1<<p)-1,n=0;n<t.length*p;n+=p)e[n>>5]|=(t.charCodeAt(n/p)&i)<<n%32;return e}function i(t){for(var e=h?"0123456789ABCDEF":"0123456789abcdef",i="",n=0;n<4*t.length;n++)i+=e.charAt(t[n>>2]>>n%4*8+4&15)+e.charAt(t[n>>2]>>n%4*8&15);return i}function n(t){return i(o(e(t),t.length*p))}function o(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var i=1732584193,n=-271733879,o=-1732584194,s=271733878,u=0;u<t.length;u+=16){var h=i,p=n,f=o,g=s;i=a(i,n,o,s,t[u+0],7,-680876936),s=a(s,i,n,o,t[u+1],12,-389564586),o=a(o,s,i,n,t[u+2],17,606105819),n=a(n,o,s,i,t[u+3],22,-1044525330),i=a(i,n,o,s,t[u+4],7,-176418897),s=a(s,i,n,o,t[u+5],12,1200080426),o=a(o,s,i,n,t[u+6],17,-1473231341),n=a(n,o,s,i,t[u+7],22,-45705983),i=a(i,n,o,s,t[u+8],7,1770035416),s=a(s,i,n,o,t[u+9],12,-1958414417),o=a(o,s,i,n,t[u+10],17,-42063),n=a(n,o,s,i,t[u+11],22,-1990404162),i=a(i,n,o,s,t[u+12],7,1804603682),s=a(s,i,n,o,t[u+13],12,-40341101),o=a(o,s,i,n,t[u+14],17,-1502002290),n=a(n,o,s,i,t[u+15],22,1236535329),i=r(i,n,o,s,t[u+1],5,-165796510),s=r(s,i,n,o,t[u+6],9,-1069501632),o=r(o,s,i,n,t[u+11],14,643717713),n=r(n,o,s,i,t[u+0],20,-373897302),i=r(i,n,o,s,t[u+5],5,-701558691),s=r(s,i,n,o,t[u+10],9,38016083),o=r(o,s,i,n,t[u+15],14,-660478335),n=r(n,o,s,i,t[u+4],20,-405537848),i=r(i,n,o,s,t[u+9],5,568446438),s=r(s,i,n,o,t[u+14],9,-1019803690),o=r(o,s,i,n,t[u+3],14,-187363961),n=r(n,o,s,i,t[u+8],20,1163531501),i=r(i,n,o,s,t[u+13],5,-1444681467),s=r(s,i,n,o,t[u+2],9,-51403784),o=r(o,s,i,n,t[u+7],14,1735328473),n=r(n,o,s,i,t[u+12],20,-1926607734),i=c(i,n,o,s,t[u+5],4,-378558),s=c(s,i,n,o,t[u+8],11,-2022574463),o=c(o,s,i,n,t[u+11],16,1839030562),n=c(n,o,s,i,t[u+14],23,-35309556),i=c(i,n,o,s,t[u+1],4,-1530992060),s=c(s,i,n,o,t[u+4],11,1272893353),o=c(o,s,i,n,t[u+7],16,-155497632),n=c(n,o,s,i,t[u+10],23,-1094730640),i=c(i,n,o,s,t[u+13],4,681279174),s=c(s,i,n,o,t[u+0],11,-358537222),o=c(o,s,i,n,t[u+3],16,-722521979),n=c(n,o,s,i,t[u+6],23,76029189),i=c(i,n,o,s,t[u+9],4,-640364487),s=c(s,i,n,o,t[u+12],11,-421815835),o=c(o,s,i,n,t[u+15],16,530742520),n=c(n,o,s,i,t[u+2],23,-995338651),i=l(i,n,o,s,t[u+0],6,-198630844),s=l(s,i,n,o,t[u+7],10,1126891415),o=l(o,s,i,n,t[u+14],15,-1416354905),n=l(n,o,s,i,t[u+5],21,-57434055),i=l(i,n,o,s,t[u+12],6,1700485571),s=l(s,i,n,o,t[u+3],10,-1894986606),o=l(o,s,i,n,t[u+10],15,-1051523),n=l(n,o,s,i,t[u+1],21,-2054922799),i=l(i,n,o,s,t[u+8],6,1873313359),s=l(s,i,n,o,t[u+15],10,-30611744),o=l(o,s,i,n,t[u+6],15,-1560198380),n=l(n,o,s,i,t[u+13],21,1309151649),i=l(i,n,o,s,t[u+4],6,-145523070),s=l(s,i,n,o,t[u+11],10,-1120210379),o=l(o,s,i,n,t[u+2],15,718787259),n=l(n,o,s,i,t[u+9],21,-343485551),i=d(i,h),n=d(n,p),o=d(o,f),s=d(s,g)}return Array(i,n,o,s)}function s(t,e,i,n,o,s){return d(u(d(d(e,t),d(n,s)),o),i)}function a(t,e,i,n,o,a,r){return s(e&i|~e&n,t,e,o,a,r)}function r(t,e,i,n,o,a,r){return s(e&n|i&~n,t,e,o,a,r)}function c(t,e,i,n,o,a,r){return s(e^i^n,t,e,o,a,r)}function l(t,e,i,n,o,a,r){return s(i^(e|~n),t,e,o,a,r)}function d(t,e){var i=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(i>>16);return n<<16|65535&i}function u(t,e){return t<<e|t>>>32-e}var h=0,p=8;return n(t)}}},function(t,e,i){var n=i(28),o=n.getDomain(),s=n.getMainDomain(),a=n.getQueryString("ru")||window.location.href;t.exports={domain:o,ru:a,accountLoginUrl:o+"/login/loginByPassport",captchaLoginUrl:o+"/login/secure/loginByCaptcha",getUserInfoUrl:o+"/passport/getUserInfo",verifyCaptchaUrl:o+"/imgcode/verifycaptcha",getCaptchaUrl:o+"/captcha/secure/getMobileCaptcha",getImgCaptchaUrl:o+"/imgcode/getCaptcha",bindMobileUrl:o+"/mobile/bindMobile",sinaUrl:o+"/openlogin/request?type=sina&source=1&ru="+a,qqUrl:o+"/openlogin/request?type=qq&source=1&ru="+a,weixinUrl:o+"/openlogin/request?type=wechat&source=1&ru="+a,logoutUrl:o+"/login/logout?ru="+a+"&source=1",forgetPwdUrl:o+"/passwordPage/resetFirst?source=1",regUrl:o+"/w/reg?ru="+a,getWeixinCodeUrl:o+"/openlogin/login",ifWeixinLoginUrl:o+"/openlogin/verif",unreadCountUrl:"https://u"+s+"/api/v1/chatlist/unreadcount"}},function(t,e){var i={};t.exports={on:function(t,e){"function"==typeof e&&(i[t]=i[t]||[],i[t].push(e))},once:function(t,e){"function"==typeof e&&(e.once=!0,i[t]=i[t]||[],i[t].push(e))},trigger:function(t,e){this.triggerNext(t,function(){},e)},triggerNext:function(t,e,n){n=n?[].slice.call(n,0):[];var o=i[t]||[];o.length||e.apply(null,n);for(var s=0;s<o.length;s++)"function"==typeof o[s]?(o[s].apply(null,n.concat(function(){e.apply(null,n)})),o[s].once?i[t][s]=null:""):"function"==typeof e&&e.apply(null,n)}},window.fcEventCenter=i},function(t,e,i){var n=i(29);t.exports={tpl:'<div node-type="fclogin-wrap" class="fclogin-form-ctn global-clearfix">\t            <div node-type="fclogin_captcha_form" class="form global-clearfix" >\t            <div class="fclogin-form-header">\t                <h3>手机验证码登录</h3>\t                <i class="login-close" @click="close"></i>\t                <a  class="type-menu" href="javascript:void(0);" data-type="1">账户登录</a>\t            </div>\t            <div class="fclogin-form-pannel">\t                <div class="uname"><i><em></em></i>\t                    <input type="text" name="mobile" maxLength="11" value="" placeholder="请输入手机号码"/>\t                    <span class="login-msg"><i class="trip"></i><em></em></span>\t                </div>\t                <div class="ucode" style="display:none">\t                    <i><em></em></i><input type="text" value="" placeholder="请输入图片验证码"/>\t                    <img src="" class="imgcode-img" >\t                    <span class="login-msg"><i class="trip"></i><em></em></span>\t                </div>\t                <div class="upass">\t                    <i><em></em></i>\t                    <input type="text" name="cpatcha" value=""  placeholder="请输入手机验证码" maxlength="6"/>\t                    <span class="phonecode" >\t                        <a class="m-send-code invalid" href="javascript:void(0);">获取验证码</a>\t                    </span>\t                    <span class="m-resend" style="display:none;" >\t                    <span node-type="fclogin_countdown_time" class="c-red time">60\t                    </span>秒后重新发送</span>\t                    <span class="login-msg"><i class="trip"></i><em></em></span>\t                </div>\t                <div class="auto-login">\t                    <label class="auto checked"><i><em></em></i>下次自动登录</label>\t                    <span class="valid-switch-btn" data-type="1">收不到短信，试试语音验证码</span>\t                </div>\t                <div node-type="fclogin_captcha_submit" class="submit">\t                    <a class="btn active">立即登录</a>\t                </div>\t            </div>\t        </div>\t            <div node-type="fclogin_voice_form" style="display:none" class="voice-form form global-clearfix" >\t            <div class="fclogin-form-header">\t                <h3>语音验证码登录</h3>\t                <i class="login-close" @click="close"></i>\t                <a  class="type-menu" href="javascript:void(0);" data-type="1">账号登录</a>\t            </div>\t            <div class="fclogin-form-pannel">\t                <div class="voice-receive-tip">请留意12590开头的号码，接听语音验证码</div>\t                <div class="uname"><i><em></em></i>\t                    <input type="text" name="mobile" maxLength="11" value="" placeholder="请输入手机号码"/>\t                    <span class="login-msg"><i class="trip"></i><em></em></span>\t                </div>\t                <div class="ucode" style="display:none">\t                    <i><em></em></i><input type="text" value="" placeholder="请输入图片验证码"/>\t                    <img src="" class="imgcode-img" >\t                    <span class="login-msg"><i class="trip"></i><em></em></span>\t                </div>\t                <div class="upass">\t                    <i><em></em></i>\t                    <input type="text" name="cpatcha" value=""  placeholder="请输入语音验证码" maxlength="6"/>\t                    <span class="phonecode" >\t                        <a class="m-send-code invalid" href="javascript:void(0);">获取语音验证码</a>\t                    </span>\t                    <span class="m-resend" style="display:none;" >\t                    <span node-type="fclogin_countdown_time" class="c-red time">100\t                    </span>秒后重新发送</span>\t                    <span class="login-msg"><i class="trip"></i><em></em></span>\t                </div>\t                <div class="auto-login">\t                    <label class="auto checked"><i><em></em></i>下次自动登录</label>\t                    <span class="valid-switch-btn" data-type="0">使用短信验证码</span>\t                </div>\t                <div node-type="fclogin_captcha_submit" class="submit">\t                    <a class="btn active">立即登录</a>\t                </div>\t            </div>\t            </div>\t            <div node-type="fclogin_account_form" class="form account-form global-clearfix" style="display:none">\t            <div class="fclogin-form-header">\t                <h3>账号登录</h3>\t                <i class="login-close" @click="close"></i>\t                <a  class="type-menu" href="javascript:void(0);" data-type="0">验证码登录</a>\t            </div>\t            <div class="fclogin-form-pannel">\t                <div class="uname">\t                    <i><em></em></i><input type="text" name="username" value="" placeholder="请输入手机号码、账号或昵称"/>\t                    <span class="login-msg"><i class="trip"></i><em></em></span>\t                </div>\t                <div class="upass">\t                    <i><em></em></i><input type="password" name="pwd" value=""placeholder="请输入密码">\t                    <span class="login-msg"><i class="trip"></i><em></em></span>\t                </div>\t                <div class="ucode" style="display:none">\t                    <i><em></em></i><input type="text" value="" placeholder="请输入验证码"/>\t                    <span class="login-msg"><i class="trip"></i><em></em></span>\t                    <img src="" class="imgcode-img" >\t                </div>\t                <div class="auto-login">\t                    <label class="auto checked"><i><em></em></i>下次自动登录</label><a href="'+n.forgetPwdUrl+'" class="forgetPwd" target="_blank">忘记密码?</a>\t                </div>\t                <div node-type="fclogin_account_submit" class="submit">\t                    <a class="btn active">立即登录</a>\t                </div>\t            </div>\t        </div>\t        </div>\t        <div class="reg-tip">没有账号？<a href="'+n.regUrl+'" target="_blank">点击马上注册</a></div>',tpl_bind:'<div node-type="fclogin_bind_form" class = "bind-mobile form" > \t                <div class="fclogin-form-header">\t                    <h3>绑定手机</h3>\t                </div>\t                <div class="fclogin-form-pannel">\t                <p class="bind-info">为了您的账号安全，建议您绑定手机</p>\t                    <div class="uname">\t                        <i><em></em></i><input type="text" name="mobile" maxLength="11" value="" placeholder="请输入手机号码"/>\t                        <span class="login-msg"><i class="trip"></i><em></em></span>\t                    </div>\t                    <div class="ucode" style="display:none">\t                        <i><em></em></i><input type="text" value="" placeholder="请输入图片验证码"/>\t                        <img src="" class="imgcode-img" >\t                        <span class="login-msg"><i class="trip"></i><em></em></span>\t                    </div>\t                    <div class="upass">\t                        <i><em></em></i><input type="text" name="cpatcha" value=""  placeholder="请输入手机验证码"/>\t                        <span class="phonecode" >\t                            <a class="m-send-code invalid" href="javascript:void(0);">获取验证码</a>\t                        </span>\t                        <span class="m-resend" style="display:none;" >\t                            <span node-type="fclogin_countdown_time" class="c-red time">60</span>秒后可重新发送\t                        </span>\t                        <span class="login-msg"><i class="trip"></i><em></em></span>\t                    </div>\t                    <div class="submit bind-mobile-submit">\t                        <a class="btn active">确认绑定</a>\t                     </div>\t                     </div>\t                </div>',tpl_otherLogin:'<div node-type="fclogin_other_login" class="other_login" >\t                        <h3>合作账号登录</h3>\t                        <div>\t                            <a href="javascript:void(0)" class="weixinlogin"></a>\t                            <a id="qqHrefId" href="javascript:void(0)" class="qqlogin"></a>\t                            <a href="javascript:void(0)" class="sinalogin"></a>\t                        </div>\t                    </div>',tpl_weixinLogin:'<div node-type="fclogin_weixin-login " class="weixin-login " > \t                        <span class="weixin-close"></span>\t                        <div class="waiting panelContent"> \t                            <div class="wrp_code"><img class="qrcode lightBorder" src=""></div>\t                            <div class="info">\t                                <div class="status status_browser js_status normal" id="wx_default_tip">\t                                    <p>首次登录需关注</p>\t                                    <p>"焦点生活服务圈微信号"</p>\t                                </div>\t                                <div class="status status_fail js_status normal" style="display:none" id="wx_after_cancel">\t                                    <i class="status_icon icon38_msg warn"></i>\t                                    <div class="status_txt">\t                                        <h4>操作失败</h4>\t                                        <p>您可再次扫描登录，或关闭窗口</p>\t                                    </div>\t                                </div>\t                            </div>\t                        </div>\t                    </div>'}},function(t,e,i){var n=i(33),o=i(34),s=i(28),a=i(29),r=function(){function t(t,e){o.call(this,t,e),this.mobileInput=this.$elem.find(".uname input"),this.imgCodeInput=this.$elem.find(".ucode input"),this.captchaInput=this.$elem.find(".upass input"),this.getCodeBtn=this.$elem.find(".m-send-code"),this.resendBtn=this.$elem.find(".m-resend"),this.time=60,this.params={type:2,channel:5,time:60,captchaErr:"请输入手机验证码"},this.init()}return t.prototype=new o,t.prototype.constructor=o,t.prototype.disableBtn=function(){var t=this;setTimeout(function(){(t.mobileInput.val()||t.imgCodeInput.val()||t.captchaInput.val())&&t.submitBtn.addClass("active")},0)},t.prototype.bindEvents=function(){var t=this;this.getCodeBtn&&this.getCodeBtn.on("click",function(){t.hideErr(),/^(13|14|15|17|18)[0-9]{9}$/.test(t.mobileInput.val())?t._needImg?t.valaidateCaptcha():t.sendValidateCode():t.showErr1("请输入正确的手机号")})},t.prototype.valaidateCaptcha=function(){var t=this,e=this.imgCodeInput.val();return""===$.trim(e)?void t.showErr2("请输入图片验证码"):void $.ajax({url:a.verifyCaptchaUrl+"?random="+Math.random(),dataType:"jsonp",data:{input:e},jsonp:"callback",success:function(i){0===i.errorCode?t.sendValidateCode(e):t.showErr2(i.errorMessage)}})},t.prototype.sendValidateCode=function(){function t(){e.time--,i.text(e.time),e.time<0&&(clearInterval(e.timer),e.getCodeBtn.show(),e.resendBtn.hide(),e.time=e.params.time||60,i.text(e.time))}var e=this,i=e.resendBtn.find('[node-type="fclogin_countdown_time"]'),n={mobile:e.mobileInput.val(),type:e.params.type,channel:e.params.channel,smsType:e.params.smsType||""};e._needImg&&(n.imgcode=e.imgCodeInput.val()),$.ajax({url:a.getCaptchaUrl+"?random="+Math.random(),dataType:"jsonp",data:n,jsonp:"callback",success:function(i){0===i.errorCode?(e.getCodeBtn.hide(),e.resendBtn.show(),e.timer=setInterval(t,1e3),e.sendSuccessFlag=0):6===i.errorCode?(e.needImg(i.errorMessage),e.showErr2(i.errorMessage)):e.showErr1(i.errorMessage)}})},t.prototype.submit=function(){var t=this;if(t.submitBtn.hasClass("active")){var e=function(){t._DialogManager.fromLogin=!1,t._DialogManager.nobind=!0;var e={mobile:t.mobileInput.val(),captcha:t.captchaInput.val(),channel:t.params.channel,auto:t._auto?1:0,smsType:t.params.smsType||""};if(t._needImg&&(e.imgcode=t.imgCodeInput.val()),!/^(13|14|15|17|18)[0-9]{9}$/.test(e.mobile))return void t.showErr1("请输入正确的手机号");if(t.hideErr(),t._needImg){if(!($.trim(e.imgcode).length>0))return void t.showErr2("请输入图片验证码！");t.hideErr()}if(!($.trim(e.captcha).length>0))return void t.showErr3(t.params.captchaErr||"请输入手机验证码");if(t.hideErr(),!t._submitClicked){t._submitClicked=!0;var i=function(e){200===e.code?(t.loginSuccss(e,!0),setTimeout(function(){t._submitClicked=!1},2e3)):8===e.code?(t._submitClicked=!1,t.loginSuccss(e,!1)):6===e.code?(t.needImg(e.msg),t.showErr2(e.msg||"请输入图片验证码"),t._submitClicked=!1):(t._submitClicked=!1,2===e.code?t.showErr3(e.msg):t.showErr1(e.msg),t.loginFail(e))},o=function(){navigator.userAgent.indexOf("MSIE")!==-1?n.ajax(a.captchaLoginUrl,"POST",{"Content-Type":"application/x-www-form-urlencoded"},s.objToStr(e),!0,function(e){4===e.readyState&&200===e.status?i(JSON.parse(e.responseText)):(t.showErr1("网络错误"),t._submitClicked=!1)}):$.ajax({url:a.captchaLoginUrl,type:"POST",dataType:"json",xhrFields:{withCredentials:!0},contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:e,success:function(t){i(t)},failure:function(){t.showErr1("网络错误"),t._submitClicked=!1}})};t._DialogManager.decorator("before_captcha_login",o)}};t._DialogManager.decorator("after_captcha_loginbtn_clicked",e)}},t}();t.exports=r},function(t,e,i){!function(e,i){t.exports=i()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){i(1);var n=window.Messager,o=n.prototype.post;n.prototype.post=function(t,e){if("string"!=typeof t)throw"not string.";o.call(this,t,e)},function(){var t={},i={},o=function(e,o){var s,a=function(t){var e=window.location.protocol,i=window.document.createElement("iframe");return i.src=e+"//"+t+"/crossdomain.html",i.style.display="none",window.document.body.appendChild(i),i},r=t[e];r?r.ready?o&&o(r):r.readyFns.push(o):(s=a(e),r=new n("changyan",s.contentWindow,"parent"),r.ready=!1,r.readyFns=[o],r.listen(function(t){return"[[ready]]"===t?(r.ready=!0,void function(){var t,e;for(t=0;t<r.readyFns.length;t++)e=r.readyFns[t],e&&e(r)}()):(t=t.split(","),void(i[t[0]]&&i[t[0]](decodeURIComponent(t[1]))))}),t[e]=r)},s=function(t,e,i){var n=t.match(/\/\/(.*?)\//)[1];o(n,function(n){var o=["POST",t,e].join(",");n.post(o,"frame",function(t){i&&i(t)})})},a=function(t,e,i){var n=t.match(/\/\/(.*?)\//)[1];o(n,function(n){var o=["GET",t,e].join(",");n.post(o,"frame",function(t){i&&i(t)})})},r=n.prototype.post;n.prototype.post=function(t,e,n){var o="key-"+ +new Date+window.Math.random().toFixed(15);t=o+","+t,i[o]=n,r.call(this,t,e)};var c=function(t,e,i,n,o,r){"POST"===e.toUpperCase()?s(t,n,function(t){r(JSON.parse(t).xhr)}):a(t,{},function(t){r(JSON.parse(t).xhr)})};e.ajax=c}()},function(t,e){window.Messager=function(){"use strict";function t(t,i,n){if(!i)throw"target is null.";this.listenFunc=[],this.target=i,this.name=n,e=t||e,"string"!=typeof e&&(e=e.toString()),this.init()}var e="[PROJECT_NAME]",i="postMessage"in window,n=window.console||{log:function(t){window.alert(t)}};return i||window.navigator.listenFunc||(window.navigator.listenFunc={},window.navigator.userListen={}),t.prototype.init=function(){var t=this,n=function(n){if("object"==typeof n&&(n=n.data),e+t.name===n.substring(0,n.indexOf("|cy|"))){n=n.slice((e+t.name).length+4);var o;if(i)for(o=0;o<t.listenFunc.length;o++)t.listenFunc[o](n);else window.navigator.userListen[e+t.name+"|cy|"](n)}};i?"addEventListener"in document?window.addEventListener("message",n,!1):"attachEvent"in document&&window.attachEvent("onmessage",n):window.navigator.listenFunc[e+this.name+"|cy|"]=n},t.prototype.post=function(t,o){if("string"!=typeof t)return void n.log("请输入字符串类型的数据;");if(t.length>=1e4)return void n.log("数据长度超过限制");if(i)this.target.postMessage(e+o+"|cy|"+t,"*");else{var s=window.navigator.listenFunc[e+o+"|cy|"];"function"==typeof s&&s(e+o+"|cy|"+t)}},t.prototype.listen=function(t){i?this.listenFunc.push(t):window.navigator.userListen[e+this.name+"|cy|"]=t},t}()}])})},function(t,e,i){var n=i(29),o=function(){function t(t,e){this._DialogManager=e,this.$elem=$(t),this.$errMsg=this.$elem.find(".login-msg"),this.imgcodeWrap=this.$elem.find(".ucode"),this.imgcodeImg=this.$elem.find(".imgcode-img"),this.autologin=this.$elem.find(".auto-login .auto"),this.submitBtn=this.$elem.find(".submit .btn"),this._auto=!0,this._needImg=!1,this._submitClicked=!1}return t.prototype={init:function(){var t=this;this.$elem.on("click",".type-menu",function(){var e=$(this).attr("data-type");t._DialogManager.$mod&&t._DialogManager.$mod.trigger("SWITCH_TAB",e)}),this.$elem.on("click",".valid-switch-btn",function(){var e=$(this).attr("data-type");t._DialogManager.$mod&&t._DialogManager.$mod.trigger("SWITCH_VALID",e)}),this.$elem.on("keypress","input",function(e){13==e.which&&t.submit()}),this.submitBtn.on("click",function(){t._DialogManager.decorator("after_loginbtn_clicked",t.submit.bind(t))}),this.autologin.on("click",function(){$(this).hasClass("checked")?$(this).removeClass("checked"):$(this).addClass("checked"),t._auto=!t._auto}),this.imgcodeImg.on("click",function(){t.refreshCaptcha()}),this.bindEvents()},show:function(){this.hideErr(),this.refreshCaptcha(),this.$elem.show()},hide:function(){this.$elem.hide()},showErr1:function(t){this.showErr(0,t)},showErr2:function(t){this.showErr(1,t)},showErr3:function(t){this.showErr(2,t)},hideErr1:function(){this.hideErr(0)},hideErr2:function(){this.hideErr(1)},hideErr3:function(){this.hideErr(2)},showErr:function(t,e){var i=this,n=i.$errMsg.eq(t);n&&(i._timerHanlder&&clearTimeout(this._timerHanlder),n.find("em").text(e),n.show(),this.refreshCaptcha(),this._timerHanlder=setTimeout(function(){i.hideErr(t)},3e3))},hideErr:function(t){void 0==t&&this.$errMsg.hide();var e=this.$errMsg.eq(t);e&&(e.find("em").text(""),e.hide())},needImg:function(t){this._needImg=!0,this.imgcodeWrap.show()},refreshCaptcha:function(){
this.imgcodeImg&&this.imgcodeImg.attr("src",n.getImgCaptchaUrl+"?random="+Math.random())},loginSuccss:function(t,e){this._DialogManager.fromLogin=!0,this._DialogManager.nobind=e,this._DialogManager.checkUserInfo()},loginFail:function(t){this._DialogManager.$mod&&this._DialogManager.$mod.trigger("LOGIN_FAIL",t),$(document).trigger("FCLOGIN_EVENT_FAIL",t)},submit:function(){},bindEvents:function(){}},t}();t.exports=o},function(t,e,i){var n=i(33),o=i(34),s=i(28),a=i(29),r=function(){function t(t,e){o.call(this,t,e),this.accountInput=this.$elem.find(".uname input"),this.imgCodeInput=this.$elem.find(".ucode input"),this.pwdInput=this.$elem.find(".upass input"),this.init()}return t.prototype=new o,t.prototype.constructor=o,t.prototype.disableBtn=function(){var t=this;setTimeout(function(){(t.accountInput.val()||t.imgCodeInput.val()||t.pwdInput.val())&&t.submitBtn.addClass("active")},0)},t.prototype.needImg=function(t){this._needImg=!0,this.imgcodeWrap.show(),this.showErr3(t||"请输入图片验证码")},t.prototype.submit=function(){var t=this;if(t.submitBtn.hasClass("active")){var e=function(){t._DialogManager.fromLogin=!1,t._DialogManager.nobind=!0;var e={passport:$.trim(t.accountInput.val()),password:t.pwdInput.val(),channel:5,auto:t._auto?1:0};if(t._needImg&&(e.imgcode=t.imgCodeInput.val()),!($.trim(e.passport).length>0))return void t.showErr1("请输入账号");if(t.hideErr(),!(e.password.length>0))return void t.showErr2("请输入密码");if(t.hideErr(),t._needImg){if(!($.trim(e.imgcode).length>0))return void t.showErr3("请输入图片验证码");t.hideErr()}if(e.password=s.MD5(t.pwdInput.val()),!t._submitClicked){t._submitClicked=!0;var i=function(e){200===e.code?t.loginSuccss(e,!0):8===e.code?(t.loginSuccss(e,!1),setTimeout(function(){t._submitClicked=!1},2e3)):6===e.code?(t.needImg(e.errorMessage),t.showErr3(e.msg||"请输入图片验证码"),t._submitClicked=!1):(t._submitClicked=!1,4===e.code?t.showErr2(e.msg):t.showErr1(e.msg),t.loginFail(e))},o=function(){navigator.userAgent.indexOf("MSIE")!==-1?n.ajax(a.accountLoginUrl,"POST",{"Content-Type":"application/x-www-form-urlencoded"},s.objToStr(e),!0,function(e){4===e.readyState&&200===e.status?i(JSON.parse(e.responseText)):(t.showErr1("网络错误"),t._submitClicked=!1)}):$.ajax({url:a.accountLoginUrl,type:"POST",dataType:"json",xhrFields:{withCredentials:!0},contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:e,success:function(t){i(t)},failure:function(){t.showErr("网络错误！"),t._submitClicked=!1}})};t._DialogManager.decorator("before_account_login",o)}};t._DialogManager.decorator("after_account_loginbtn_clicked",e)}},t}();t.exports=r},function(t,e,i){var n=i(32),o=i(29),s=function(){function t(t,e){n.call(this,t,e),this.params={type:3,channel:5},this.$errMsg=this.$elem.find(".login-msg"),this.bindEventsOwn()}return t.prototype=new n,t.prototype.constructor=n,t.prototype.bindEventsOwn=function(){var t=this;this.$elem.on("click",".bind-close",function(){t._DialogManager.hideBind()}),this.$elem.on("click",".jump-mobile-href",function(){t._DialogManager.hideBind()})},t.prototype.submit=function(){var t=this,e=function(){var e={mobile:t.mobileInput.val(),captcha:t.captchaInput.val()};if(t._needImg&&(e.imgcode=t.imgCodeInput.val()),!/^(13|14|15|17|18)[0-9]{9}$/.test(e.mobile))return void t.showErr1("请输入正确的手机号");if(t.hideErr(),t._needImg){if(!($.trim(e.imgcode).length>0))return void t.showErr2("请输入图片验证码");t.hideErr()}if(!($.trim(e.captcha).length>0))return void t.showErr3("请输入手机验证码");if(t.hideErr(),!t._submitClicked){t._submitClicked=!0;var i=function(){$.ajax({url:o.bindMobileUrl,dataType:"jsonp",data:e,jsonp:"callback",success:function(e){200===e.code?(t._DialogManager.hideBind(),setTimeout(function(){t._submitClicked=!1},2e3)):6===e.code?(t.needImg(),t.showErr2(e.msg||"请输入图片验证码"),t._submitClicked=!1):(t._submitClicked=!1,2===e.code?t.showErr3(e.msg):t.showErr1(e.msg))},failure:function(){t.showErr1("网络错误"),t._submitClicked=!1}})};t._DialogManager.decorator("before_bind_mobile",i)}};t._DialogManager.decorator("after_mobile_bindbtn_clicked",e)},t}();t.exports=s},function(t,e,i){var n=i(32),o=function(){function t(t,e){n.call(this,t,e),this.time=100,this.params={type:2,channel:5,smsType:2,time:100,captchaErr:"请输入语音验证码！"}}return t.prototype=new n,t.prototype.constructor=n,t}();t.exports=o},function(t,e,i){var n=i(29),o=i(28),s=(i(30),i(31)),a=function(t){return t.$dialog.append($(s.tpl_weixinLogin)),this.$mod=t,this.$el=t.$dialog.find(".weixin-login"),this};a.prototype={open:function(){var t=this.$mod.$dialog.outerHeight();this.$el.removeClass("mini"),t<460&&this.$el.addClass("mini"),this.$el.css("height",t),this.$el.fadeIn(),this.init()},close:function(){this.$el.fadeOut(),this.reset()},init:function(){var t=this;t.$el.find(".qrcode").click(function(){t.reset(),t.getCodeImg()}),t.$el.find(".weixin-close").click(function(){t.close()}),t.getCodeImg()},reset:function(){this.weixinQueryTimer&&clearInterval(this.weixinQueryTimer),this.uniqueId=null},setLogined:function(t){o.setCookie("focusinf",t.focusinf,1,o.getMainDomain()),o.setCookie("ppinf",t.ppinf,1,o.getMainDomain()),o.setCookie("pprdig",t.pprdig,1,o.getMainDomain()),this.$mod.fromLogin=!0,this.$mod.nobind=!t.mobile,this.$mod.checkUserInfo()},setWeixinFail:function(t){this.$el.find(".qrcode").attr("src",result.data.image)},getCodeImg:function(){var t=this;$.ajax({url:n.getWeixinCodeUrl,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},data:{source:1},success:function(e){e.data&&(t.uniqueId=e.data.uniqueId,t.$el.find(".qrcode").attr("src",e.data.image),t.weixinQueryTimer=setInterval(function(){t.getLoginResult(t.uniqueId)},1e3))},failure:function(){}})},getLoginResult:function(t){var e=this;$.ajax({url:n.ifWeixinLoginUrl,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},data:{unique:t},success:function(t){200===t.code&&(e.close(),e.setLogined(t.data))},failure:function(){e.reset()}})}},t.exports=a},function(t,e,i){var n=i(33),o=i(29),s=i(28),a=!!s.getCookie("ppinf")&&!!s.getCookie("pprdig");t.exports=$$letter={handler:null,init:function(){return a&&$(".loged-wrap .btn-info").length&&!$(".loged-wrap .btn-info .letter-insert").length?(this.initDOM(),void this.initAction()):void(this.handler&&clearTimeout(that.handler))},initDOM:function(){$(".loged-wrap .btn-info").after('<a href="https://u'+s.getMainDomain()+'/#letter" class="letter-insert"></a>')},initAction:function(){var t=this;t.handler=setInterval(function(){a||t.handler&&clearInterval(t.handler),t.sendReq()},1e4),t.sendReq(),window.addEventListener&&document.addEventListener("evt_letter_setReaded",function(){t.sendReq()},!1)},sendReq:function(){function t(t){var e;$(".letter-insert").length>0&&(+t.data.unreadCount>0?($(".letter-insert").css("marginRight","25px"),e=t.data.unreadCount,e=e>99?"99+":e,$(".letter-insert").html('<i class="letter-unread">'+e+"</i>"),s.dispatchEvent(document,"evt_letter_getUnread")):($(".letter-insert").css("marginRight","5px"),$(".letter-insert").html("")))}navigator.userAgent.indexOf("MSIE")!==-1?n.ajax(o.unreadCountUrl,"GET",{"Content-Type":"application/x-www-form-urlencoded"},"",!0,function(e){4===e.readyState&&200===e.status&&t(JSON.parse(e.responseText))}):$.ajax({url:o.unreadCountUrl,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:"",success:function(e){t(e)},failure:function(){}})}};var r=setInterval(function(){$(".loged-wrap .btn-info").length&&(clearInterval(r),$$letter.init())},10)}]);