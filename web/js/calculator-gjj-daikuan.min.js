!function(a){function t(n){if(e[n])return e[n].exports;var r=e[n]={exports:{},id:n,loaded:!1};return a[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var e={};return t.m=a,t.c=e,t.p="../../dist/calculator/js/",t(0)}([function(a,t){var e={getAsk:function(a,t){var e,n=$(".sfbi-radio .check",t).index();e=1==n?1e4*$(".second-dkxz .check",t).attr("data-value"):1e4*$(".first-dkxz .check",t).attr("data-value");var r=$(".cal-dk .ask-icon");a>e?(r.html('<span class="ask-container" ><span class="pos"> <i></i><span class="ask-txt">按当前首付比例计算的结果，超过本了市规定最高贷款额度'+Math.round(e/1e4)+"万，请选择组合贷款计算。</span></span></span>").addClass("on-ask").show(),setTimeout(function(){$($(".cal-dk .ask-icon")[0]).removeClass("on-ask")},3e3)):r.hide()},benxi:function(a,t,e,n){$("#dkTotal").text(Math.round(a/1e4)),$("#sfTotal").text(Math.round(t/1e4));var r=JSQ.getMonthMoney1(e,a,n);$("#mongKh").html('<span class="fl">月均还款</span> <strong>'+Math.round(r)+'</strong>  <span class="fl">元</span>'),$("#srzm").text(Math.round(2*r));var s=r*n,i=s-a;$("#lxTotal").text(Math.round(i/1e4)),setTimeout(function(){var e=[{value:Math.round(t/1e4),name:"首付"},{value:Math.round(a/1e4),name:"贷款"},{value:Math.round(i/1e4),name:"利息"}];renderEcharts(document.getElementById("graphic1"),e,"计算器")},1e3)},benjin:function(a,t,e,n){$("#dkTotal2").text(Math.round(a/1e4)),$("#sfTotal2").text(Math.round(t/1e4));var r,s=0,i=0,l="<tr>",o='<table cellpadding="0" cellspacing="0" ><tbody>';for(j=0;j<n;j++)r=JSQ.getMonthMoney2(e,a,n,j),i+=r,0==j&&(s+=r),r=Math.round(r),l+="<td>第"+(j+1)+"期<br>"+r+"元</td>",(j+1)%4==0&&(l+=j==n-1?"</tr>":"</tr><tr>");o+=l+"</tbody></table>",$("#hkContent").html(o);var p=i-a;$("#lxTotal2").text(Math.round(p/1e4)),$("#syKh").html('<span class="fl">首均还款</span> <strong>'+Math.round(s)+'</strong>  <span class="fl">元</span><a href="#" target="_blank" class="mx">明细</a>'),$("#srzm2").text(Math.round(2*s)),$("#graphic2").attr("moneyFirst",Math.round(t/1e4)).attr("daikuanTotal",Math.round(a/1e4)).attr("lixi",Math.round(p/1e4))},mainji:function(){var a=12*parseInt($(".mj-page .dknx").val()),t=parseFloat($("#danjia").val()),e=parseFloat($("#mianji").val()),n=$(".mj-page .sfbl").val(),r=$(".mj-page .rate_gjj_a").val(),s=Math.round(t*e*100)/100,i=s*n,l=s*(1-n);this.benxi(l,i,r,a),this.benjin(l,i,r,a),this.getAsk(l,$(".mj-page")),$(".cal-sf").show(),$("#recLp").hide()},daikuan:function(){var a=12*parseInt($(".dk-page .dknx").val()),t=$(".dk-page .rate_gjj_a").val();$(".cal-sf").hide(),$("#recLp").hide();var e=1e4*parseFloat($("#dkze").val());this.benxi(e,0,t,a),this.benjin(e,0,t,a),$(".cal-dk .ask-icon").hide()},loupan:function(){var a,t,e,n,r=$(".lp-page .rate_gjj_a").val(),s=12*parseInt($(".lp-page .dknx").val());a=1e4*parseFloat($("#lpFj").text()),e=$(".lp-page .sfbl").val(),t=a*e,n=a*(1-e),this.benxi(n,t,r,s),this.benjin(n,t,r,s),this.getLoupan($(".lp-name").val()),this.getAsk(n,$(".lp-page")),$(".cal-sf").show()},getLoupan:function(a){$.ajax({type:"get",url:"/fangdaijisuanqi/ajaxSearchLoupan",data:"loupan_name="+encodeURIComponent(a),dataType:"json",success:function(a){if(null!=a){var t,e=$("#recLp");t="/loupan/"+a.groupId+"/huxing"+$("#huxing .current").attr("data-hid")+".html",e.find(".cal-rec-title").html('<a href="'+t+'" target="_blank">'+$("#huxing em").text()+"</a>"),e.find(".cal-rec-left").html('<div class="cal-rec-left" ><a href="'+t+'" target="_blank"><img src="'+a.projUrl+'" width="140" height="105" /></a></div>'),$("#lpArgTotal").text($("#lpDj").text()),$("#lpHouseTotal").text($("#lpFj").text()),$("#lpHref").html('<a href="'+t+'" target="_blank">查看楼盘详情>></a>'),e.show()}}})}};$(".js-btn").click(function(a){a.preventDefault();var t,n=$("#jsfs").val(),r=0;if(1==n)t=$(this).parents(".cal-con-form").find(".mj-page");else if(2==n){if(t=$(this).parents(".cal-con-form").find(".lp-page"),"none"==$(".lp-er-page").css("display")&&""!=$(".lp-name").val()&&"请输入楼盘名称"!=$(".lp-name").val()){var s=$(".lp-name").parent();if(s.addClass("error-input"),0==s.find(".error-span").length&&s.append('<div class="error-span"></div>'),s.hasClass("no-hx"))var i="该楼盘暂无户型信息，请选择其他计算方式";else var i="请输入正确的楼盘名称";return void s.find(".error-span").html(i).show()}}else if(3==n&&(t=$(this).parents(".cal-con-form").find(".dk-page"),parseInt($("#dkze").val())>parseInt($("#gjjEd").val()))){var s=$("#dkze").parent();return s.addClass("error-input"),0==s.find(".error-span").length&&s.append('<div class="error-span"></div>'),void s.find(".error-span").html("贷款金额已超过最大金额，不能参与计算。").show()}var l;return 1!=t.find(".sfbi-radio .check").index()?t.find("input[type=text]").each(function(){if(0==$(this).parents(".er-page").length&&(l=$(this).hasClass("lp-name")?window.applyUtil.init($(this),"character"):window.applyUtil.init($(this),"text"),!l))return r=1,!1}):t.find("input[type=text]").each(function(){if(l=$(this).hasClass("lp-name")?window.applyUtil.init($(this),"character"):window.applyUtil.init($(this),"text"),!l)return r=1,!1}),1!=r&&($(".cal-res-nav a").removeClass("current"),$($(".cal-res-nav a")[0]).addClass("current"),$(".debx").show(),$(".debj").hide(),1==n?e.mainji():2==n?e.loupan():3==n&&e.daikuan(),void window.CalAnimate())}),$("#mianji").blur(function(){var a=parseInt($(this).val()),t=parseInt($(".mj-page .sfbi-radio .check").index())+1,e=$(".mj-page .yzfmj").val();a>0&&JSQ.getGjjmj(a,t,e,$(".mj-page"))}),$(".yzfmj").blur(function(){var a=parseInt($(this).val()),t=$(this).parent().parent().parent().parent(),e=parseInt(t.find(".sfbi-radio .check").index())+1;if(a>0)if(t.hasClass("mj-page"))JSQ.getGjjmj($("#mianji").val(),e,a,t);else if("none"!=t.find(".lp-er-page").css("display")){var n=$("#huxing .current").text();JSQ.getGjjmj("",e,a,t,n)}})}]);