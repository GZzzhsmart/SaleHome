!function(t){function e(i){if(a[i])return a[i].exports;var n=a[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var a={};return e.m=t,e.c=a,e.p="../../dist/calculator/js/",e(0)}([function(t,e,a){function i(t,e,a,i){var n,s=window.jsq.fund_rate_data;n=t<=5?s["date_"+e][0]:s["date_"+e][1];var r=a.parent().parent().find(".sfbi-radio");if(1==i){var o=r.find(".check").index();n*=1==o?$(r.find(".radio-span")[1]).attr("data-gjj-zk"):$(r.find(".radio-span")[0]).attr("data-gjj-zk")}else 2==i&&u.gjjFloatRate>1&&(n*=u.gjjFloatRate);a.find("input[type=hidden]").val(n/100),a.parent().find(".jsq-rate").text(Math.round(100*n)/100+"%")}function s(t,e,a){var i,n=window.jsq.business_rate_data;i=1==t?n["date_"+e][0]:t<=3?n["date_"+e][1]:t<=5?n["date_"+e][2]:n["date_"+e][3],a.find(".load-rate input[type=hidden]").val(i/100);var s=Math.round(a.find(".sd-zk").val()*i*100)/100;a.find(".sd-fina-rate").val(s),a.find(".jsq-rate2 .error-span").length>0&&(a.find(".jsq-rate2").removeClass("error-input"),a.find(".jsq-rate2 .error-span").remove())}function r(t){update=new Date(1e3*t),year=update.getFullYear(),month=update.getMonth()+1<10?"0"+(update.getMonth()+1):update.getMonth()+1,day=update.getDate()<10?"0"+update.getDate():update.getDate();var e=[year+"/"+month+"/"+day,year+""+month+day];return e}function o(t,e,a,i){var n=t/12,s=e/a;return(e-s*i)*n+s}function d(t,e,a){var i=t/12;return e*i*Math.pow(1+i,a)/(Math.pow(1+i,a)-1)}function l(t,e,a){var i=t/12;return a*e*i*Math.pow(1+i,e)/(Math.pow(1+i,e)-1)}function c(t,e,a){var i=echarts.init(t),n={calculable:!1,series:[{name:a,type:"pie",radius:["70%","90%"],itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}},emphasis:{label:{show:!0,position:"center",formatter:"{b}:{c}",textStyle:{fontSize:"18"}}}},data:e}]};i.setOption(n)}window.jsq=[],window.JSQ=[],a(1),$(".selector").hover(function(){$(this).addClass("on")},function(){$(this).removeClass("on")}),$(".selector a").click(function(t){t.preventDefault();var e=$("#hSearchForm"),a=$("#zxForm"),i=$(this).html(),n=$(".selector em").html();switch($(".selector").removeClass("on"),$(".selector em").html(i),$(this).html(n),e.hide(),a.hide(),i){case"楼盘":e.show();break;case"装修":a.show()}}),a(2),$("input[type=text]").focus(function(t){var e=$(this).attr("data-value");$.trim($(this).val())==e&&$(this).val("");var a=$(this).parent();a.hasClass("error-input")&&(a.removeClass("error-input"),a.find(".error-span").remove())}).blur(function(){var t=$(this).attr("data-value");""==$.trim($(this).val())&&$(this).val(t)}),$(".con-input-radio .radio-span").click(function(){var t=$(this);t.hasClass("check")||($(this).parent().find(".radio-span").removeClass("check"),t.addClass("check"),t.parent().find("input").val(t.attr("data-value")))}),$(".ask-icon").hover(function(){if($(this).addClass("on-ask"),0==$(this).find(".ask-container").length){var t='<span class="ask-container"><span class="pos"> <i></i><span class="ask-txt">'+$(this).attr("data-default")+"</span></span></span>";$(this).html(t)}},function(){$(this).removeClass("on-ask")}),$("body").delegate(".jsq-selector em","click",function(){var t=$(this).text(),e=$(this).parents(".jsq-selector");e.hasClass("selector-on")?e.removeClass("selector-on"):e.addClass("selector-on"),$(".jsq-selector").each(function(){$("em",this).text()!=t&&$(this).removeClass("selector-on")})}),$("body").delegate(".hide-selector-box li","click",function(){var t=$(this).parents(".jsq-selector");$(".hide-selector-box li",t).removeClass("current"),$(this).addClass("current"),t.find("em").html($(this).text()),t.removeClass("selector-on");var e=($(this).attr("data-value"),$(this).parents(".load-gjj-rate")),a=$(this).parents(".jsq-zhe"),n=$(this).parents(".load-rate");if(t.find("input[type=hidden]").val($(this).attr("data-value")),e.length>0){var r=$(this).attr("data-date"),o=e.parent().parent(),d=parseInt(o.find(".sfbi-radio .check").index()),l=o.find(".dknx").val();i(l,r,e,d)}if(n.length>0){var r=$(this).attr("data-date"),l=n.parent().parent().parent().find(".dknx").val();s(l,r,n.parent())}if(a.length>0){var c=Math.round(a.find("input[type=hidden]").val()*a.parent().find(".load-rate input[type=hidden]").val()*1e4)/100;a.parent().find(".sd-fina-rate").val(c)}}),window.JSQ.setGjjRate=i,$(".nianxian li").click(function(){var t=$(this).parents(".con-input").parent(),e=parseInt(t.find(".sfbi-radio .check").index()),a=parseInt($(this).attr("data-value"));if(t.find(".load-gjj-rate").length>0){var n=t.find(".load-gjj-rate .jsq-selector .current").attr("data-date");i(a,n,t.find(".load-gjj-rate"),e)}if(t.find(".load-rate").length>0){var r=t.find(".load-rate .jsq-selector .current").attr("data-date");s(a,r,t.find(".lp-sd-lv"))}}),$("#bank").delegate("li","click",function(){function t(t){return t>=1?t+"倍":10*t+"折"}var e,a=$(this).parents(".lp-page"),i=a.find(".sfbi-radio"),n=i.find(".check").index(),s=$(this).attr("data-first-zhekou"),r=$(this).attr("data-second-zhekou");e=1==n?r:s,firstBusiness=e.split(","),firstBusiness.pop(),$(i.find(".radio-span")[0]).attr("data-zhekou",s),$(i.find(".radio-span")[1]).attr("data-zhekou",r);for(var o='<div class="jsq-selector" default-value="'+firstBusiness[0]+'" default-text="'+t(firstBusiness[0])+'"><em>'+t(firstBusiness[0])+'</em><div class="hide-selector-box"><ul>',d=0;d<firstBusiness.length;d++)firstHtml+=firstBusiness[d]+",",o+='<li data-value="'+firstBusiness[d]+'">'+t(firstBusiness[d])+"</li>";o+='</ul><input type="hidden" value="'+firstBusiness[0]+'" class="sd-zk"><div>',a.find(".jsq-zhe").html(o);var l=Math.round(a.find(".load-rate input[type=hidden]").val()*firstBusiness[0]*1e4)/100;a.find(".sd-fina-rate").val(l);var c=a.find(".sfbl-seletor");if(c.length>0){var u;u=1==a.find(".sfbi-radio .check").index()?$(this).attr("data-second-sf"):$(this).attr("data-first-sf"),$($(".lp-page .sfbi-radio .radio-span")[0]).attr("data-value",$(this).attr("data-first-sf")),$($(".lp-page .sfbi-radio .radio-span")[1]).attr("data-value",$(this).attr("data-second-sf")),c.find("input[type=hidden]").val(u),c.find("em").text(10*u+"成");var h="";h+='<li data-value="'+u+'">'+10*u+"成</li>";for(var d=parseInt(10*u)+1;d<10;d++)h+='<li data-value="'+d/10+'">'+d+"成</li>";c.find("ul").html(h)}}),$(".sfbi-radio .radio-span").click(function(){function t(t){return t>=1?t+"倍":10*t+"折"}var e=$(this).parent(),a=$(this).index(),n=e.parent().parent(),s=$(this).parents(".radio-div").siblings(".er-page"),r=n.find(".sfbl-seletor");if(r.length>0){var o=$(this).attr("data-value");r.find("input[type=hidden]").val(o),r.find("em").text(10*o+"成");var d="";d+='<li data-value="'+o+'">'+10*o+"成</li>";for(var l=parseInt(10*o)+1;l<10;l++)d+='<li data-value="'+l/10+'">'+l+"成</li>";r.find("ul").html(d)}s.length>0&&(1==a?s.show():s.hide());var c;1==a?(n.find(".first-dkxz").hide(),c=n.find(".first-dkxz .check").index(),n.find(".second-dkxz").show(),n.find(".second-dkxz .radio-span").removeClass("check").each(function(t){t==c&&($(this).addClass("check"),n.find(".second-dkxz input[type=hidden]").val($(this).attr("data-value")))})):(n.find(".first-dkxz").show(),c=n.find(".second-dkxz .check").index(),n.find(".second-dkxz").hide(),n.find(".first-dkxz .radio-span").removeClass("check").each(function(t){t==c&&($(this).addClass("check"),n.find(".first-dkxz input[type=hidden]").val($(this).attr("data-value")))}));var u=n.find(".load-gjj-rate");if(u.length>0){var h=n.find(".dknx").val(),f=u.find(".current").attr("data-date");i(h,f,u,a)}for(var p=n.find(".jsq-zhe"),v=$(this).attr("data-zhekou").split(","),m=v.length-1,g='<div class="jsq-selector" default-value="'+v[0]+'" default-text="'+t(v[0])+'"><em>'+t(v[0])+'</em><div class="hide-selector-box"><ul>',l=0;l<m;l++)g+='<li data-value="'+v[l]+'">'+t(v[l])+"</li>";g+='</ul><input type="hidden" value="'+v[0]+'" class="sd-zk"><div>',p.html(g);var y=Math.round(n.find(".load-rate input[type=hidden]").val()*v[0]*1e4)/100;n.find(".sd-fina-rate").val(y)}),window.jsq.fund_rate_data={},window.jsq.business_rate_data={},window.jsq.bus_first_rate=[],window.jsq.fund_first_rate=[],$.ajax({type:"get",url:"/fangdaijisuanqi/ajaxrate?type=provide",data:"",dataType:"jsonp",success:function(t){for(var e,a="",i=t.provide_list,n="",s=0,o=i.length;s<o;s++){var d=r(i[s].send_time);window.jsq.fund_rate_data["date_"+d[1]]=[i[s].five_year_rate,i[s].more_year_rate],0==s?(jsq.fund_first_rate=[i[s].five_year_rate,i[s].more_year_rate],e=i[s].more_year_rate/100,$(".load-gjj-rate").parent().find(".jsq-rate").val(i[s].more_year_rate),d[0]="最新",a+='<div class="jsq-selector" default-value="'+e+'" default-text="'+d[0]+'基准利率"><em>'+d[0]+'基准利率</em><div class="hide-selector-box"><ul>',n='class="current"'):n="",a+='<li data-date="'+d[1]+'" '+n+">"+d[0]+"基准利率</li>"}a+='</ul></div><input type="hidden" value="'+e+'" class="rate_gjj_a" /></div>',$(".load-gjj-rate").next(".jsq-rate").attr("data-default",100*e+"%").text(100*e+"%"),$(".load-gjj-rate").html(a)}},"json"),$.ajax({type:"get",url:"/fangdaijisuanqi/ajaxrate?type=business",data:"",dataType:"jsonp",success:function(t){for(var e,a=t.business_list,i="",s=0,o=a.length;s<o;s++){var d=r(a[s].send_time);jsq.business_rate_data["date_"+d[1]]=[a[s].one_year_rate,a[s].three_year_rate,a[s].five_year_rate,a[s].more_year_rate],m="基准利率",0==s?(jsq.bus_first_rate=[a[s].one_year_rate,a[s].three_year_rate,a[s].five_year_rate,a[s].more_year_rate],e=a[s].more_year_rate/100,d[0]="最新",i+='<div class="jsq-selector" default-value="'+e+'" default-text="'+d[0]+m+'"><em>'+d[0]+m+'</em><div class="hide-selector-box"><ul>',n='class="current"'):n="",i+="<li "+n+'   data-date="'+d[1]+'">'+d[0]+m+"</li>"}i+='</ul></div><input type="hidden" value="'+e+'" class="rate_a" /></div>',$(".load-rate").html(i);var l=$(".load-rate").parent(),c=Math.round(l.find(".sd-zk").val()*l.find(".rate_a").val()*1e4)/100;l.find(".sd-fina-rate").attr("data-default",c).val(c)}},"json"),$("body").bind("click",function(t){var t=t||window.event,e=t.target||t.srcElement;if($(".jsq-selector").length>0&&0==$(e).parents(".jsq-selector").length&&!$(e).hasClass("selector-on"))return void $(".jsq-selector").removeClass("selector-on")}),window.jsq.getMonthMoney2=o,window.jsq.getMonthMoney1=d,window.jsq.getTotaLoadMoney=l;var u={getTotaLoadMoney:function(t,e,a){var i=t/12;return a*e*i*Math.pow(1+i,e)/(Math.pow(1+i,e)-1)},getTotalLixi:function(t,e,a){var i=t/12;return a*i*(e+1)/2},getMonthMoney1:function(t,e,a){var i=t/12;return e*i*Math.pow(1+i,a)/(Math.pow(1+i,a)-1)},getMonthMoney2:function(t,e,a,i){var n=t/12,s=e/a;return(e-s*i)*n+s},getGjjmj:function(t,e,a,n,s){$.ajax({type:"get",url:"/fangdaijisuanqi/ajaxGongjijinArea",data:"area="+t+"&unit="+e+(a>0?"&exist_area="+a:"")+("undefined"!=typeof s?"&huxing="+s:""),dataType:"json",success:function(t){var a=t.ratio;$(n.find(".sfbi-radio .radio-span")[e-1]).attr("data-value",a/10);var s=n.find(".sfbl-seletor");if(s.length>0){s.find("input[type=hidden]").val(a/10),s.find("em").text(a+"成");var r="";r+='<li data-value="'+val+'">'+10*val+"成</li>";for(var o=parseInt(10*val)+1;o<10;o++)r+='<li data-value="'+o/10+'">'+o+"成</li>";s.find("ul").html(r)}window.JSQ.gjjFloatRate=t.float_rate;var d=n.find(".dknx").val(),l=n.find(".load-gjj-rate .current").attr("data-date");n.find(".load-gjj-rate .current").val()*t.float_rate;i(d,l,n.find(".load-gjj-rate"),2)}})}};window.JSQ=u;var h={init:function(t,e){var a;switch(e){case"text":a=this.checkNumber(t);break;case"radio":a=this.checkRadio(t);break;case"character":a=this.checkCharacter(t);break;case"list":a=this.checkList(t)}return a},checkNumber:function(t){function e(t,e){var a=t.parent();a.addClass("error-input"),0==a.find(".error-span").length&&a.append('<div class="error-span"></div>'),a.find(".error-span").html(e).show()}var a=$.trim(t.val());t.parent();if(""!=$("#pojcbl").val()&&""==$("#poyjce").val())return e($("#poyjce"),"请输入正确的"+$("#poyjce").attr("default-tips")),!1;if("true"==t.attr("data-null")&&""==a);else{if(a.length>9||a.length<1||isNaN(a)||parseFloat(a)>999999||a<=0)return e(t,"请输入正确的"+t.attr("default-tips")),!1;if("gjjDkze"==t.attr("id")&&a>parseInt($(".first-dkxz .check").attr("data-value")))return e(t,"贷款金额已超过最大金额，不能参与计算。"),!1}return""!=$("#pojcbl").val()||""==$("#poyjce").val()||(e($("#pojcbl"),"请输入正确的"+$("#pojcbl").attr("default-tips")),!1)},checkCharacter:function(t){var e=$.trim(t.val()),a=t.parent();return""!=e&&"请输入楼盘名称"!=e||(a.addClass("error-input"),0==a.find(".error-span").length&&a.append('<div class="error-span"></div>'),a.find(".error-span").html("请输入正确的"+t.attr("default-tips")).show(),!1)},checkRadio:function(t){},checkList:function(t){}};window.applyUtil=h,window.CalAnimate=function(){"none"===$("#calConRight").css("display")&&($(this).parents().find("#calConLeft").is(":animated")||$("#calConLeft").animate({"margin-left":"0px"},500,function(){$("#calConRight").fadeIn()}))},$(".reset-btn").click(function(t){t.preventDefault();var e=$(this).parents(".cal-con-form");if(e.find("input[type=text]").val(""),e.find(".jsq-selector").each(function(){var t=$(this).attr("default-value"),e=$(this).attr("default-text");$(this).find("em").text(e),$(this).find("input[type=hidden]").val(t),$("li",this).removeClass("current").each(function(){$(this).text()==e&&$(this).addClass("current")})}),e.find(".con-input-radio").each(function(){if("jsType"!=$(this).attr("id")){var t=$(this).attr("default-value"),e=$.trim($(this).attr("default-text")),a=$(this).find(".radio-span");a.each(function(){if(a.removeClass("check"),$.trim($(this).text())==e)return $(this).addClass("check"),!1}),$("input[type=hidden]",this).val(t)}}),$(".er-page,.lp-er-page").hide(),$("#moreLimit").length>0){var a=$(".dk-page .first-dkxz .check").attr("data-value");$("#moreLimit").text(a)}if($(".load-gjj-rate").length>0){var i=$(".load-gjj-rate").parent().find(".jsq-rate");i.text(i.attr("data-default"))}if($(".lp-sd-lv").length>0){var n=$(".lp-sd-lv .sd-fina-rate");n.val(n.attr("data-default"))}e.find(".error-span").hide(),e.find(".error-input").removeClass("error-input")}),$("#jsType .radio-span").click(function(){var t=$(this).attr("data-value");1==t?($(".mj-page").show(),$(".dk-page").hide(),$(".lp-page").hide()):2==t?($(".mj-page").hide(),$(".dk-page").hide(),$(".lp-page").show()):3==t&&($(".mj-page").hide(),$(".dk-page").show(),$(".lp-page").hide())}),$("#huxing").delegate("li","click",function(){var t=$(this).attr("data-total"),e=$(this).attr("data-avg-total"),a=$(this).attr("data-discount");if($("#lpFj").text(t/1e4),$("#lpDj").text(e),0!=a&&""!=a&&($("#zhekou").html("（"+a+"）"),$("#zhekou").attr("href","/loupan/"+$(".lp-name").attr("gid")+"/huxing"+$(this).attr("data-hid")+".html")),"provide"==$("#lvType").val()){var i=parseInt($(".lp-page .sfbi-radio .check").index())+1,n=parseInt($(".lp-page .yzfmj").val()),s=$(this).text();u.getGjjmj(0,i,n,$(".lp-page"),s)}}),$(".cal-res-nav a").click(function(t){t.preventDefault(),$(this).hasClass("current")||($(".cal-res-nav a").removeClass("current"),$(this).addClass("current"));var e=$(this).index();0==e?($(".debx").show(),$(".debj").hide()):1==e&&($(".debx").hide(),$(".debj").show(),$("#graphic2").length>0&&setTimeout(function(){var t=[{value:$("#graphic2").attr("moneyFirst"),name:"首付"},{value:$("#graphic2").attr("daikuanTotal"),name:"贷款"},{value:$("#graphic2").attr("lixi"),name:"利息"}];c(document.getElementById("graphic2"),t,"计算器")},1e3),$(".cal-dk .ask-icon").length>0&&$(".cal-dk .ask-icon").hasClass("on-ask")&&setTimeout(function(){$(".cal-dk .on-ask").removeClass("on-ask")},3e3))}),$(".cal-con-result").delegate(".mx","click",function(t){t.preventDefault(),$("#hkmx").show()}),$("#hkmx .fixed-close").click(function(){$("#hkmx").hide()}),window.renderEcharts=c,$(function(){var t=echarts.init(document.getElementById("zhexiantu")),e={tooltip:{trigger:"item",padding:8,textStyle:{fontSize:12},formatter:function(t){var e=new Date(t.value[0]);return data=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),data+"    "+t.value[1]}},grid:{x:55,y:40,x2:20,y2:40},legend:{x:"right",y:"top",itemGap:20,itemWidth:10,itemHeight:12,textStyle:{color:"#999"},data:[{name:"公积金贷款"},{name:"商业贷款"}]},xAxis:[{type:"time",axisLine:{show:!0,lineStyle:{color:"#4365ab",type:"solid",width:2}},axisTick:{show:!1},axisLabel:{show:!0,textStyle:{color:"#fff"}},splitArea:{show:!0,areaStyle:{color:["rgba(0,0,0,0.15)","rgba(0,0,0,0.15)"]}},splitLine:{lineStyle:{color:"rgba(255,255,255,0.1)"}},splitNumber:10}],yAxis:[{type:"value",axisLine:{show:!0,lineStyle:{color:"#4365ab",type:"solid",width:2}},axisTick:{show:!1},axisLabel:{show:!0,textStyle:{color:"#fff"}},splitLine:{lineStyle:{color:"rgba(255,255,255,0.1)"}}}],series:[{name:"公积金贷款",type:"line",showAllSymbol:!0,symbolSize:function(t){return Math.round(t[2]/10)+2},data:$("#zhexiantu").data("gjj")},{name:"商业贷款",type:"line",showAllSymbol:!0,symbolSize:function(t){return Math.round(t[2]/10)+2},data:$("#zhexiantu").data("sy")}]};t.setOption(e)}),a(3)},function(t,e){!function(){function t(t){var e,a="",i=document.cookie,n=i.indexOf(t+"=");return n>-1&&(start=i.indexOf("=",n)+1,e=i.indexOf(";",start),e==-1&&(e=i.length),a=unescape(i.substring(start,e))),a}function e(t,e,a,i){var a,i;"undefined"==typeof a&&(a=";path=/"),"undefined"==typeof i&&(i=new Date,i.setTime(i.getTime()+6048e5)),document.cookie=t+"="+escape(e)+";expires="+i.toGMTString()+a}if($(".pt-menu-list").hover(function(t){$(".pf-sub-menu",this).show(),$(this).addClass("menu-current")},function(t){$(".pf-sub-menu",this).hide(),$(this).removeClass("menu-current")}),$(".pt-menu-list").hover(function(t){$(".pf-sub-menu",this).show(),$(this).addClass("menu-current")},function(t){$(".pf-sub-menu",this).hide(),$(this).removeClass("menu-current")}),$(".house-tab-tag a").click(function(t){$(this).hasClass("spec-link")||$(this).hasClass("tab-link")||t.preventDefault()}),$("#goTop").length>0){$("#goTop").click(function(t){t.preventDefault(),$(this).hide(),window.scrollTo(0,0),$("#hFloat .f-link").removeClass("current")});var a=$(window).height();$.browser.msie&&parseInt($.browser.version)<7||$(window).scroll(function(){var t=$(window).scrollTop();t>a?$("#goTop").css("display","block"):$("#goTop").css("display","none")})}$(".house-tab-tag a").mouseover(function(t){if(t.preventDefault(),!$(this).hasClass("spec-link")){var e=$(this).parents(".house-tab"),a=$(this),i=$(this).attr("data-index"),n=$(".house-tab-div",e);"undefined"==typeof i&&$(".house-tab-tag a",e).each(function(t){if($(this).text()==a.text())return void(i=t)}),$(".house-tab-tag a",e).removeClass("current"),$(this).addClass("current"),n.hide(),$(n[i]).show()}}),window.getCookie=t,window.setCookie=e}(),$(function(){setTimeout(function(){if($("#mapSideImg").length>0){var t=$("#mapSideImg").attr("data-location").split(",");if(t.length<2)return;var e=new AMap.Map("mapSideImg",{center:new AMap.LngLat(t[0],t[1]),level:12}),a=new AMap.Marker({icon:"http://webapi.amap.com/images/marker_sprite.png",position:new AMap.LngLat(t[0],t[1])});a.setMap(e)}},1e3)}),$(function(){function t(t){var e=new Image;e.src="http://click.pv.focus.cn/pv_click.gif?d?="+t+"_/t_"+(new Date).getTime()}$(".statis-n-log").click(function(){var e=$(this).attr("data-statis");t(e)}),$("body").delegate(".statis-log","click",function(e){var a="undefined"!=typeof $(this).attr("data-statis")?$(this).attr("data-statis"):null;t(a)}),window.getStatistics=t})},function(t,e){var a=function(t){this.ele=t.ele,this.isfocus=0,this.suggestionUrl=t.suggestionUrl;var e=t.ele.attr.id;window._sugCache=[],window._sugCache[e]={}};a.prototype={init:function(){this._create(),this._bindEvent()},_bindEvent:function(){var t=this,e=$("input[type=text]",this.ele),a=(e.attr("data-value"),$(".input_tip",this.ele));this.intervalTime=null,this.ele.on("keydown",function(t){if(13==t.keyCode)return!1}),e.keyup(function(e){var i=e.keyCode,n=$.trim($(this).val());return 13==i&&1==t.isfocus?($(".focus",a).length>0&&$(this).val($(".focus strong",a).text()),t.isfocus=0,void t.hide()):void(37!=i&&39!=i&&38!=i&&40!=i&&(""==n||27==i?t.hide():(null!==t.intervalTime&&clearTimeout(t.intervalTime),t.intervalTime=setTimeout(function(){t._getJsonp(n)},100))))}).keydown(function(e){var i,n=e.keyCode,s=this,r=$("li",a),o=r.length,d=$(".focus",a).index(),l=function(t){$(".focus",a).removeClass("focus"),$($("li",a)[t]).addClass("focus"),$(s).val($($("li strong",a)[t]).text())};if(13==n){if("block"==a.css("display")&&$(".focus",a).length>0)return window.open("/loupan/"+$(".focus",a).attr("data-gid")+".html"),t.hide(),!1;t.ele.submit()}38==n&&(i=d-1,i<=-1&&(i=o-1),l(i)),40==n&&(i=d+1,i>=o&&(i=0),l(i))}).focus(function(){var e=$(this).val();""!=e&&$("li",a).length>0&&t.show()}).click(function(){"block"==a.css("display")&&$(".focus",a).removeClass("focus")}),t.ele.delegate("li","mouseover",function(){$(this).addClass("focus")}).delegate("li","mouseout",function(){$(this).removeClass("focus")}).delegate("li","click",function(){e.val($("strong",this).text()),"hSearchForm"===t.ele.attr("id")?($("#hSearchForm #sug_group_id").val($(this).attr("data-index")),"undefined"!=typeof $(this).attr("data-url")&&""!=$(this).attr("data-url")?window.open($(this).attr("data-url")):""!=$(this).attr("data-gid")?window.open("/loupan/"+$(this).attr("data-gid")+".html"):t.ele.submit()):t.ele.submit(),t.hide()}),$("body").bind("click",function(e){var e=e||window.event,a=e.target||e.srcElement;0==$(a).parents("#"+t.ele[0].id).length&&"none"!=t.ele.css("display")&&t.hide()}),$(".h-select-submit",t.ele).click(function(e){if(e.preventDefault(),t.hide(),"hxForm"==t.ele[0].id&&window.getStatistics({data:"a=sbu&k="+$("input[type=text]",t.ele).val()}),"zxForm"==t.ele[0].id){var a=$("#zxForm #searchzx").val(),i=$("#zxForm #searchzx").attr("data-value"),n="http://home.focus.cn/zhaozhuangxiu/Searchresult/";if(a===i||""===a)return window.open(n),!1}t.ele.submit()}),t.ele.submit(function(){t.isfocus=1;t.ele;"hxForm"==t.ele[0].id&&window.getStatistics({data:"a=su&k="+$("input[type=text]",t.ele).val()})})},_create:function(){if(!(this.ele.find(".input_tip").length>0)){var t=document.createElement("div");t.className="input_tip",$("input[type=text]",this.ele).parent().append(t)}},_getJsonp:function(t){if("undefined"!=typeof this.suggestionUrl){var e=this.ele.attr.id;if("undefined"!=typeof window._sugCache[e][t]&&window._sugCache[e][t].length>0)return void this._request(window._sugCache[e][t]);var a=this.suggestionUrl+"="+encodeURI(t),i=new Date,n=i.getTime(),s=this;window.jsonp=function(t){s._request.call(s,t)},$.getScript(a+"&t="+n+"&callback=jsonp")}},_request:function(t){function e(t,e){for(var a=-1,i=0,n=t.length;i<n;i++)if(e==t[i]){a=i;break}return a}var a=this,i=0,n="<ul>";if("[object Object]"==Object.prototype.toString.call(t)){var s,r=a.ele.attr("id");if("hSearchForm"===r&&0===t.errcode){s=t.data;for(var o in s){var d=s[o].type;n+=e(d,3)==-1?'<li data-index="'+o+'" data-gid="'+s[o].group_id+'" data-id="'+s[o].proj_id+'"><span><strong>'+s[o].proj_name+"</strong>"+(e(d,2)>-1?'<i class="sub-name">'+s[o].str+"</i>":"")+"</span><em>"+("undefined"!=typeof s[o].district?s[o].district:"")+"</em></li>":'<li data-index="'+o+'" data-url="/votehouse/'+s[o].show_city_name+"/"+s[o].proj_id+'.html"><span><strong>'+s[o].proj_name+"</strong>"+(e(d,2)>-1?'<i class="sub-name">'+s[o].str+"</i>":"")+"</span><em>"+("undefined"!=typeof s[o].district?s[o].district:"")+"</em></li>"}$("#hSearchForm .input_tip").html(n).show(),$($("#hSearchForm .input_tip li")[i-1]).addClass("last")}}else $(".input_tip").html("").hide()},show:function(){$(".input_tip",this.ele).show()},hide:function(){$(".input_tip",this.ele).hide()},_clear:function(){}},$(document).ready(function(){var t=new a({ele:$("#hSearchForm"),suggestionUrl:"/loupan_api/loupanSuggest?city_id="+$("#cityId").val()+"&keyword"});t.init()})},function(t,e){var a,i,n,s,r,o,d=0,l=function(t){var e=$("#cityArea");"show"==t?(e.css("opacity",0).show().animate({opacity:1},"fast"),$("i",e.parent()).css({display:"inline",opacity:0}).animate({opacity:1},"fast")):"hide"==t&&(e.animate({opacity:0},"fast",function(){$(this).hide()}),$("i",e.parent()).animate({opacity:0},"fast",function(){$(this).css("display","none")}))};$("#cityBtn").click(function(t){t.preventDefault(),"none"==$("#cityArea").css("display")?(l("show"),setTimeout(function(){0===d&&(a=$(".cityArea_k .bot"),i=$("#cityAE").height(),n=$("#cityFJ").height(),s=$("#cityKP").height(),r=$("#cityQW").height(),o=$("#cityXZ").height(),d=1)},500)):l("hide")}),$("#cityArea .h-close").click(function(t){t.preventDefault(),l("hide")}),$(".city_a,.city_b,.city_c,.city_d,.city_e").click(function(t){t.preventDefault(),a.is(":animated")||a.animate({scrollTop:0},400)}),$(".city_f,.city_g,.city_h,.city_i,.city_j").click(function(t){t.preventDefault(),a.is(":animated")||a.animate({scrollTop:i+10},400)}),$(".city_k,.city_l,.city_m,.city_n,.city_p").click(function(t){t.preventDefault(),a.is(":animated")||a.animate({scrollTop:i+n+30},400)}),$(".city_q,.city_r,.city_s,.city_t,.city_w").click(function(t){t.preventDefault(),a.is(":animated")||a.animate({scrollTop:i+n+r+46},400)}),$(".city_x,.city_y,.city_z").click(function(t){t.preventDefault(),a.is(":animated")||a.animate({scrollTop:i+n+s+r},400)})}]);